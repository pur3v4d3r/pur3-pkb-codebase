{
  "schemaVersion": "0.1.0",
  "name": "Pur3v4d3r Definition Extractor",
  "behavior": "create",
  "noteNameFormat": "{{date|date:\"YYYY-MM-DD\"}}-glossary-{{\"create a 3-4 word kebab-case name for the domain or topic\"|replace:\" \":\"-\"|lower|safe_name}}",
  "path": "03-notes/reference",
  "context": "{{selectorHtml:article,main,.post-content,.entry-content,.article-body,#content,.content|markdown|slice:0,15000|trim}}",
  "properties": [
    {
      "name": "aliases",
      "value": "{{\"Generate 2-3 aliases: 'Glossary: [Topic]', the source title abbreviated, '[Domain] Key Terms'. Comma-separated.\"|split:\", \"}}",
      "type": "multitext"
    },
    {
      "name": "tags",
      "value": "{{\"Select 6-8 tags. Return comma-separated:\\n\\nTYPE: type/reference, type/glossary\\nSTATUS: status/seedling\\nDOMAIN: (select relevant domain tags)\\nTOPICS: definitions, key-terms, vocabulary, terminology\"|split:\", \"}}",
      "type": "multitext"
    },
    {
      "name": "source",
      "value": "{{\"Classify: article, paper, book, documentation, course. One word.\"}}",
      "type": "text"
    },
    {
      "name": "id",
      "value": "{{date|date:\"YYYYMMDDHHmmss\"}}",
      "type": "text"
    },
    {
      "name": "created",
      "value": "{{date|date:\"YYYY-MM-DDTHH:mm:ss\"}}",
      "type": "text"
    },
    {
      "name": "modified",
      "value": "{{date|date:\"YYYY-MM-DDTHH:mm:ss\"}}",
      "type": "text"
    },
    {
      "name": "week",
      "value": "[[{{date|date:\"GGGG-[W]WW\"}}]]",
      "type": "text"
    },
    {
      "name": "month",
      "value": "[[{{date|date:\"YYYY-MM\"}}]]",
      "type": "text"
    },
    {
      "name": "quarter",
      "value": "[[{{date|date:\"YYYY-[Q]Q\"}}]]",
      "type": "text"
    },
    {
      "name": "year",
      "value": "[[{{date|date:\"YYYY\"}}]]",
      "type": "text"
    },
    {
      "name": "type",
      "value": "reference",
      "type": "text"
    },
    {
      "name": "maturity",
      "value": "seedling",
      "type": "text"
    },
    {
      "name": "confidence",
      "value": "moderate",
      "type": "text"
    },
    {
      "name": "next-review",
      "value": "{{date|date_modify:\"+14 days\"|date:\"YYYY-MM-DD\"}}",
      "type": "date"
    },
    {
      "name": "review-count",
      "value": "0",
      "type": "number"
    },
    {
      "name": "link-up",
      "value": "{{\"Select MOC based on terminology domain. Return ONLY wiki-link: [[cognitive-science-moc]], [[learning-theory-moc]], [[pkb-&-pkm-moc]], [[prompt-engineering-moc]], [[neuroscience-moc]]\"}}",
      "type": "text"
    },
    {
      "name": "link-related",
      "value": "[[{{date|date:\"YYYY-MM-DD\"}}|Daily-Note]]",
      "type": "text"
    },
    {
      "name": "url",
      "value": "{{url}}",
      "type": "text"
    },
    {
      "name": "author",
      "value": "{{author}}",
      "type": "text"
    },
    {
      "name": "definition-count",
      "value": "{{\"Count how many key terms you identify in this content. Return just a number.\"}}",
      "type": "number"
    }
  ],
  "triggers": [],
  "noteContentFormat": "# Glossary: {{\"What is the main topic or domain of this content? 2-4 words.\"}}\n\n> [!abstract] Overview\n> {{\"In 2 sentences, describe what domain this glossary covers and what type of source it's extracted from.\"}}\n\n> [!metadata] Source\n> - **URL**: {{url}}\n> - **Author**: {{author}}\n> - **Captured**: {{date|date:\"YYYY-MM-DD HH:mm\"}}\n> - **Definition Count**: Approximately {{\"Count the key terms. Number only.\"}} terms\n\n---\n\n## ðŸ“š Key Definitions (Dataview Format)\n\n> [!important] Dataview Extraction\n> These definitions use the `[**Key**:: Value]` format for automatic Dataview extraction.\n\n{{\"Extract ALL significant terms, concepts, and definitions from this content. This is the PRIMARY PURPOSE of this template - be thorough.\\n\\nFor EACH term, use this EXACT format on its own line:\\n\\n[**Term-Name-In-Title-Case-With-Hyphens**:: Complete definition in 1-3 sentences. Include context for how/when the term is used.]\\n\\nPrioritize extraction of:\\n1. Explicit definitions (X is defined as...)\\n2. Technical terminology\\n3. Domain-specific jargon\\n4. Theoretical constructs\\n5. Named frameworks or models\\n6. Process or methodology names\\n7. Key distinctions (X vs Y)\\n8. Important principles or rules\\n\\nAim for 10-25 definitions depending on content density. Quality over quantity but be comprehensive.\"}}\n\n---\n\n## ðŸ”¤ Alphabetical Index\n\n{{\"List all the terms you defined above in alphabetical order as wiki-links. Format:\\n\\n### A\\n- [[Term starting with A]]\\n\\n### B\\n- [[Term starting with B]]\\n\\nContinue for all letters that have terms.\"}}\n\n---\n\n## ðŸ”— Concept Relationships\n\n{{\"Identify 3-5 key relationships between the terms defined above. Format as:\\n\\n1. **[[Term A]]** relates to **[[Term B]]** through [explanation of relationship]\\n\\nThis helps build the knowledge graph.\"}}\n\n---\n\n## ðŸ“Š Domain Classification\n\n{{\"Categorize the definitions into 3-5 thematic groups. Format as:\\n\\n### [Category Name]\\n- [[Term 1]]\\n- [[Term 2]]\\n\\nThis provides alternative navigation structure.\"}}\n\n---\n\n## ðŸ’­ Notes for Review\n\n> [!question] Terms Needing Clarification\n> - \n\n> [!todo] Follow-up Tasks\n> - [ ] Verify definitions against authoritative sources\n> - [ ] Link to existing notes in PKB\n> - [ ] Identify terms needing their own atomic notes\n\n---\n\n## ðŸ“– Original Content\n\n<details>\n<summary>Click to expand original source content</summary>\n\n{{content}}\n\n</details>\n\n---\n\n## Extracted Definitions Display\n\n```dataviewjs\nconst currentFile = dv.current().file;\nconst content = await dv.io.load(currentFile.path);\nconst bracketedFieldRegex = /\\[\\*\\*([^*]+)\\*\\*::\\s*([^\\]]+)\\]/g;\n\nlet definitions = [];\nlet match;\n\nwhile ((match = bracketedFieldRegex.exec(content)) !== null) {\n    definitions.push({\n        key: match[1].trim(),\n        value: match[2].trim()\n    });\n}\n\n// Group by first letter\nconst grouped = {};\ndefinitions.forEach(d => {\n    const firstLetter = d.key[0].toUpperCase();\n    if (!grouped[firstLetter]) grouped[firstLetter] = [];\n    grouped[firstLetter].push(d);\n});\n\n// Display grouped results\nconst sortedLetters = Object.keys(grouped).sort();\n\ndv.header(3, `ðŸ“– ${definitions.length} Definitions Extracted`);\n\nfor (let letter of sortedLetters) {\n    dv.header(4, `${letter}`);\n    dv.table(\n        [\"Term\", \"Definition\"],\n        grouped[letter].map(d => [`**${d.key}**`, d.value])\n    );\n}\n```"
}
