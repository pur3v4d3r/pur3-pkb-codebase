/*
═══════════════════════════════════════════════════════════════════════════════
 CALLOUT MODIFIER: Raised 3D Effect

 Purpose: Create physical depth with layered shadows and raised appearance
 Effect: Callouts appear to lift off the page with realistic 3D depth
 Inspired by: Skeuomorphic design, physical cards, layered UI
 Compatible with: Dark themes for best depth perception

 Enable this snippet for:
 - Strong 3D raised effect
 - Layered shadow system
 - Physical depth illusion
 - Tactile visual feedback
 - Premium modern aesthetic
═══════════════════════════════════════════════════════════════════════════════
*/

/* Raised base with multiple shadow layers for depth */
.callout {
  background: var(--theme-bg-raised, #1E1E1E) !important;
  border: 1px solid rgba(var(--callout-color, var(--theme-crimson-rgb)), 0.3) !important;
  border-left: 5px solid rgb(var(--callout-color, var(--theme-crimson-rgb))) !important;
  border-radius: 12px !important;
  padding: 0 !important;
  margin: 2em 0.5em !important;
  
  /* Multi-layer shadow system for 3D depth */
  box-shadow:
    /* Base shadow - largest and softest */
    0 12px 28px rgba(0, 0, 0, 0.35),
    /* Mid-layer for definition */
    0 6px 14px rgba(0, 0, 0, 0.25),
    /* Close shadow for crisp edges */
    0 2px 6px rgba(0, 0, 0, 0.20),
    /* Colored accent shadow */
    0 4px 16px rgba(var(--callout-color, var(--theme-crimson-rgb)), 0.15),
    /* Top highlight for raised effect */
    inset 0 1px 0 rgba(255, 255, 255, 0.05) !important;
  
  /* Slight upward position */
  transform: translateY(-2px) !important;
  transition: 
    transform 0.4s cubic-bezier(0.34, 1.56, 0.64, 1),
    box-shadow 0.4s cubic-bezier(0.34, 1.56, 0.64, 1) !important;
  position: relative !important;
}

/* Top edge highlight for 3D effect */
.callout::before {
  content: '' !important;
  position: absolute !important;
  top: 0 !important;
  left: 0 !important;
  right: 0 !important;
  height: 2px !important;
  background: linear-gradient(90deg,
    rgba(var(--callout-color, var(--theme-crimson-rgb)), 0.4) 0%,
    rgba(var(--callout-color, var(--theme-crimson-rgb)), 0.1) 100%) !important;
  border-radius: 12px 12px 0 0 !important;
  pointer-events: none !important;
}

/* Title with raised platform */
.callout-title {
  background: rgba(var(--callout-color, var(--theme-crimson-rgb)), 0.08) !important;
  padding: 14px 18px !important;
  border-bottom: 1px solid rgba(var(--callout-color, var(--theme-crimson-rgb)), 0.2) !important;
  border-radius: 12px 12px 0 0 !important;
  font-weight: 600 !important;
  position: relative !important;
  
  /* Inner highlight for depth */
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.03) !important;
}

/* Content area with subtle inner shadow */
.callout-content {
  background: transparent !important;
  padding: 16px 18px !important;
  position: relative !important;
  
  /* Subtle inner shadow for recessed feel */
  box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.1) !important;
}

/* Hover - lifts even higher with enhanced shadows */
.callout:hover {
  transform: translateY(-6px) !important;
  
  /* Enhanced multi-layer shadows on hover */
  box-shadow:
    0 20px 40px rgba(0, 0, 0, 0.40),
    0 10px 20px rgba(0, 0, 0, 0.30),
    0 4px 10px rgba(0, 0, 0, 0.25),
    0 8px 24px rgba(var(--callout-color, var(--theme-crimson-rgb)), 0.25),
    inset 0 1px 0 rgba(255, 255, 255, 0.08),
    /* Extra glow on hover */
    0 0 30px rgba(var(--callout-color, var(--theme-crimson-rgb)), 0.1) !important;
  
  border-left-width: 6px !important;
}

.callout:hover .callout-title {
  background: rgba(var(--callout-color, var(--theme-crimson-rgb)), 0.12) !important;
}

/* Icon with subtle 3D effect */
.callout-icon {
  filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.3)) !important;
  transition: transform 0.3s ease !important;
}

.callout:hover .callout-icon {
  transform: scale(1.05) translateY(-1px) !important;
}

/* Bottom shadow accent for grounding */
.callout::after {
  content: '' !important;
  position: absolute !important;
  bottom: -8px !important;
  left: 10% !important;
  right: 10% !important;
  height: 8px !important;
  background: radial-gradient(ellipse,
    rgba(0, 0, 0, 0.3) 0%,
    transparent 70%) !important;
  filter: blur(6px) !important;
  pointer-events: none !important;
  opacity: 0.6 !important;
  transition: opacity 0.4s ease !important;
}

.callout:hover::after {
  opacity: 0.8 !important;
}

/* Reduce effect for nested callouts */
.callout .callout {
  margin: 1em 0 !important;
  transform: translateY(0) !important;
  box-shadow: 
    0 4px 8px rgba(0, 0, 0, 0.2),
    0 2px 4px rgba(0, 0, 0, 0.15) !important;
}
